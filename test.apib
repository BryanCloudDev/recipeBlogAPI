FORMAT: 1A
HOST: http://localhost:3000/api

# Recipes Blog

This is an API for a recipe blog made using express.

# Group Authentication

## Authentication [/login]

### Authenticate user [POST]

Authentication for admin user in order to edit recipes or users.

+ Request (application/json)

        {
            "email": "email@email.com",
            "password": "123456"
        }

+ Response 200 (application/json)

        {
            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJicG9ydGlsbG83MDFAZ21haWwuY29tIiwicm9sZSI6MSwiaWF0IjoxNjkwODczMjU3LCJleHAiOjE2OTA4NzY4NTd9.zX6uVck3oed3KXkM4kKYONw_kz9YL4DHZ_iyjw7UQE8"
        }

# Group Recipes

## Recipes [/recipes]

### Create a new recipe [POST]

You may create your own recipe using this action as an admin user using a JWT. It takes a JSON
object containing a recipe title, description, steps and ingredients.

+ Attributes (RecipeCreate)
+ Request (application/json)
    + Headers

            Authorization: Bearer [token]

+ Response 201 (application/json)

        {
            "message": "Succesfully created",
            "id": 1
        }

### Get all recipes [GET]

Gets all recipes.

+ Response 200 (application/json) 
    + Attributes (array[Recipe])


## Endpoints with parameters [/recipes/{id}]

### Get recipe by ID [GET]

Retrieves a recipe by id.

+ Parameters
    + id: `1` (required, number) - - Recipe id.

+ Response 200 (application/json) 

    + Attributes (RecipeResponse)


### Update recipe by ID [PATCH]

Updates a recipe by id.

+ Parameters
    + id: `1` (required, number) - - Recipe id.

+ Attributes (RecipeResponse)
+ Request (application/json)
    + Headers

            Authorization: Bearer [token]

+ Response 204

### Delete recipe by ID [DELETE]

Deletes a recipe by id.

+ Parameters
    + id: `1` (required, number) - Recipe id.

+ Request (application/json)
    + Headers

            Authorization: Bearer [token]

+ Response 204

## Make a search based on text [/recipes/search{?search}]

### Get recipe by custom search [GET]

+ Parameters
    + search: Pizza (required, string) - Search term.

+ Response 200 (application/json)
    + Attributes (array[RecipeResponse])
        
## Upload recipe photo [/recipes/upload/{id}]

### Add or update a recipe photo [PATCH]

Upload a a photo to a recipe by id, it has to be sent under the name of "photo", allowed image types are jpeg, jpg, png and gif.


+ Parameters
    + id: `1` (required, number) - Recipe id

+ Request (multipart/form-data)
    + Headers

            Authorization: Bearer [token]

+ Response 200 (application/json)

        {
            "message": "Succesfully uploaded",
            "url": "http://localhost:3000/api/recipes/photo/recipes/d917b131-43e4-443f-a4dd-cb6d78b7693c.jpeg"
        }

# Data Structures

## RecipeBase (object)
+ title: Ramen Soup (string, required) - The title of the recipe.
+ description: A description (string, required) - The description of the recipe.

## IngredientBase (object)
+ title: ingredient 1 (string, required) - The name of the ingredient.
+ order: 1 (number, required) - The order of the ingredient.

## StepBase (object)
+ title: step 1 (string, required) - The title of the step.
+ order: 1 (number, required) - The order of the step.

## RecipeResponse (object)
+ id: 1 (number, required) - The ID of the recipe.
+ Include RecipeBase
+ status: 1 (number, required) - The status of the recipe.
+ photo: `photo/recipes/b6c38194-9b88-43e5-be4d-9363f92f836a.jpeg` (string, required) - The URL of the recipe photo.
+ createdOn: `2023-07-09T21:07:40.986Z` (string, required) - The creation date of the recipe in ISO 8601 format.
+ updatedOn: `2023-07-31T05:51:46.000Z` (string, required) - The update date of the recipe in ISO 8601 format.
+ step (array[StepResponse]) - The list of steps for the recipe.
+ ingredient (array[IngredientResponse]) - The list of ingredients for the recipe.

## RecipeCreate (object)
+ Include RecipeBase
+ step (array[StepBase]) - The list of steps for the recipe.
+ ingredient (array[IngredientBase]) - The list of ingredients for the recipe.

## StepResponse (object)
+ id: 1 (number, required) - The ID of the step.
+ Include StepBase

## IngredientResponse (object)
+ id: 1 (number, required) - The ID of the ingredient.
+ Include IngredientBase